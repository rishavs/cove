TODOs:
    - Guards
    - Global messages which last one 1 ctx cycle
    - Need to standardize the func names


QUERIES:

    CREATE TABLE USERS(
        UNQID TEXT PRIMARY KEY,
        USERNAME TEXT NOT NULL UNIQUE,
        PASSWORD TEXT NOT NULL,
        IS_DELETED BOOL DEFAULT FALSE,
        CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        DELETED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP        
    );

    CREATE TABLE POSTS(
        UNQID TEXT PRIMARY KEY,
        TITLE TEXT NOT NULL,
        LINK TEXT,
        THUMB TEXT,
        CONTENT TEXT,
        AUTHOR_ID TEXT NOT NULL,
        IS_DELETED BOOL DEFAULT FALSE,
        CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        DELETED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );

    CREATE TABLE COMMENTS(
        UNQID TEXT PRIMARY KEY,
        LEVEL INT NOT NULL,
        POST_ID TEXT,
        PARENT_ID TEXT,
        CONTENT TEXT,
        AUTHOR_ID TEXT NOT NULL,
        IS_DELETED BOOL DEFAULT FALSE,
        CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        DELETED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );

    insert into comments (unqid, level, post_id, parent_id,  content, author_id) 
    values ('cid10', 0, 'd178f40f-31c7-4bb9-8a5d-5c9e834c2b4e' , null, 'This is a PARENT level comment', 'JRR Tolkien');

    insert into comments (unqid, level, post_id, parent_id,  content, author_id) 
    values ('cid11', 1, 'd178f40f-31c7-4bb9-8a5d-5c9e834c2b4e' , 'cid10',  'This is a CHILD level comment', 'Mark Twain');

    insert into comments (unqid, level, post_id, parent_id,  content, author_id) 
    values ('cid12', 2, 'd178f40f-31c7-4bb9-8a5d-5c9e834c2b4e' , 'cid11', 'This is a GRANDCHILD level comment', 'RL Stephenson');

    insert into comments (unqid, level, post_id, parent_id,  content, author_id) 
    values ('cid20', 0, 'd178f40f-31c7-4bb9-8a5d-5c9e834c2b4e' , null, 'This is 2nd PARENT level comment', 'Dante');